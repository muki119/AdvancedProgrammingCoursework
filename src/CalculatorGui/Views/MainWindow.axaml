<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="CalculatorGui.Views.MainWindow"
        Width="900" Height="700"
        Title="Maths Expression Evaluator"
        Background="#0d1117"
        MinWidth="600" MinHeight="500">

    <Window.Styles>
        <Style Selector="Button">
            <Setter Property="Background" Value="#238636"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style Selector="Button:pointerover">
            <Setter Property="Background" Value="#2ea043"/>
        </Style>
        <Style Selector="Button:pressed">
            <Setter Property="Background" Value="#1a7f37"/>
        </Style>
        <Style Selector="Button.clear">
            <Setter Property="Background" Value="#21262d"/>
        </Style>
        <Style Selector="Button.clear:pointerover">
            <Setter Property="Background" Value="#30363d"/>
        </Style>
        <Style Selector="TextBox">
            <Setter Property="Background" Value="#161b22"/>
            <Setter Property="Foreground" Value="#c9d1d9"/>
            <Setter Property="BorderBrush" Value="#30363d"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontFamily" Value="Consolas,Monaco,monospace"/>
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="BorderBrush" Value="#58a6ff"/>
        </Style>
    </Window.Styles>

    <Grid Margin="30" RowDefinitions="Auto,Auto,Auto,*,Auto">
        
        <!-- Title Section -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Maths Expression Evaluator" 
                       FontSize="28" 
                       FontWeight="Bold" 
                       Foreground="#58a6ff"
                       HorizontalAlignment="Center"/>
            <TextBlock Text="Enter an expression and click Evaluate" 
                       FontSize="14" 
                       Foreground="#8b949e"
                       HorizontalAlignment="Center"
                       Margin="0,8,0,0"/>
        </StackPanel>

        <!-- Input Section -->
        <Border Grid.Row="1" 
                Background="#161b22" 
                BorderBrush="#30363d" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="20"
                Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="Expression:" 
                           FontSize="14" 
                           Foreground="#8b949e" 
                           Margin="0,0,0,8"
                           FontWeight="SemiBold"/>
                <TextBox x:Name="inputBox"
                         Height="45"
                         FontSize="18"
                         Watermark="e.g., (5 + 3) * 2 - 4 / 2" />
            </StackPanel>
        </Border>

        <!-- Buttons Section -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center"
                    Margin="0,0,0,15">
            <Button x:Name="evaluateButton" 
                    Content="Evaluate" 
                    Width="140" 
                    Height="40" 
                    FontSize="15"
                    Margin="0,0,10,0" />
            <Button x:Name="clearButton" 
                    Content="Clear" 
                    Width="120" 
                    Height="40" 
                    FontSize="15"
                    Classes="clear" />
        </StackPanel>

        <!-- Output Section -->
        <Border Grid.Row="3" 
                Background="#161b22" 
                BorderBrush="#30363d" 
                BorderThickness="1" 
                CornerRadius="8" 
                Padding="20">
            <StackPanel>
                <TextBlock Text="Result:" 
                           FontSize="14" 
                           Foreground="#8b949e" 
                           Margin="0,0,0,8"
                           FontWeight="SemiBold"/>
                <ScrollViewer VerticalScrollBarVisibility="Auto" Height="300">
                    <TextBox x:Name="outputBox"
                             IsReadOnly="True"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             Text="Results here..."
                             FontSize="24"
                             FontWeight="Bold"
                             Background="Transparent"
                             BorderThickness="0"
                             Foreground="#7ee787"
                             Focusable="False"
                             IsHitTestVisible="False" />
                </ScrollViewer>
            </StackPanel>
        </Border>

        <!-- Error Section -->
        <Border Grid.Row="4" 
                Margin="0,15,0,0"
                Padding="15"
                Background="#1c1e26"
                BorderBrush="#f85149"
                BorderThickness="0"
                CornerRadius="6"
                IsVisible="{Binding #errorBox.Text, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Error:" FontSize="16" Margin="0,0,10,0" VerticalAlignment="Center" Foreground="#f85149" FontWeight="SemiBold"/>
                <TextBlock x:Name="errorBox"
                           FontSize="14"
                           Foreground="#f85149"
                           TextWrapping="Wrap"
                           VerticalAlignment="Center" />
            </StackPanel>
        </Border>

    </Grid>
</Window>